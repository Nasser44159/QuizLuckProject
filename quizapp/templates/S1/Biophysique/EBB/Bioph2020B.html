<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Luck</title>
   <link rel="stylesheet" href="stylequiz.css">

</head>
<body>
    <div class="container">
        <div class="quiz-title">
            <h1>QCM Anatomie 1</h1>
        </div>


<form id="quiz-form">
    <input type="hidden" id='exam_name' name="exam_name" value="Bioph2020B">
    {% csrf_token %}>
        <div id="question-1" class="question-container">
            <div class="question">
                <p>1.) Pour corriger un œil hypermétrope, il faut :</p>
                <ul>
        
                    <li><input type="checkbox" id="q1a" name="q1" value="A"> A- Faire coïncider le PR de l’œil non corrigé avec le foyer objet de la lentille correctrice.</li>
            
                    <li><input type="checkbox" id="q1b" name="q1" value="B"> B- Pour corriger un œil myope, il faut faire coïncider le PR de l’œil non corrigé avec le foyer image de la lentille correctrice.</li>
            
                    <li><input type="checkbox" id="q1c" name="q1" value="C"> C- L’œil hypermétrope non corrigé ne peut pas, même en accommodant, voir nettement à l’infini.</li>
            
                    <li><input type="checkbox" id="q1d" name="q1" value="D"> D- Un œil hypermétrope se corrige avec une lentille convergente.</li>
            
                    <li><input type="checkbox" id="q1e" name="q1" value="E"> E- Un œil myope se corrige avec une lentille divergente.</li>
            
                </ul>
            </div>
            <div class="action-buttons">
                <button type="button" class="correct-button" onclick="correctQuestion('q1')">Corriger</button>
                <button type="button" class="reset-button" onclick="resetQuestion('q1')">Réessayer</button>
                <button class="favorite-button" data-question="1">&#10084;</button>
            </div>
        </div>
        
        <div id="question-2" class="question-container">
            <div class="question">
                <p>2.) Un rayon lumineux se propage d’un milieu d’indice 1,3 vers un milieu d’indice 1,2. Cochez-la ou les propositions exactes :</p>
                <ul>
        
                    <li><input type="checkbox" id="q2a" name="q2" value="A"> A- Pour un angle d’incidence de 30°, l’angle de réfraction est presque de 32,79°.</li>
            
                    <li><input type="checkbox" id="q2b" name="q2" value="B"> B- Pour un angle d’incidence de 30°, l’angle de réfraction est presque de 60°.</li>
            
                    <li><input type="checkbox" id="q2c" name="q2" value="C"> C- Pour un angle d’incidence de 50°, la lumière est totalement réfléchie à la surface de séparation des deux milieux.</li>
            
                    <li><input type="checkbox" id="q2d" name="q2" value="D"> D- Pour un angle d’incidence de 70°, la lumière est totalement réfléchie à la surface de séparation des deux milieux.</li>
            
                    <li><input type="checkbox" id="q2e" name="q2" value="E"> E- Toutes les propositions sont fausses.</li>
            
                </ul>
            </div>
            <div class="action-buttons">
                <button type="button" class="correct-button" onclick="correctQuestion('q2')">Corriger</button>
                <button type="button" class="reset-button" onclick="resetQuestion('q2')">Réessayer</button>
                <button class="favorite-button" data-question="2">&#10084;</button>
            </div>
        </div>
        
        <div id="question-3" class="question-container">
            <div class="question">
                <p>3.) Quatre représentations sont schématisées ci-dessous. Elles représentent la marche des rayons lumineux à travers un dioptre plan. Cochez-la ou les propositions exactes :</p>
                <ul>
        
                    <li><input type="checkbox" id="q3a" name="q3" value="A"> A- Pour la représentation (a), l’objet et l’image sont tous les deux réels.</li>
            
                    <li><input type="checkbox" id="q3b" name="q3" value="B"> B- Pour la représentation (b), l’objet et l’image sont tous les deux réels.</li>
            
                    <li><input type="checkbox" id="q3c" name="q3" value="C"> C- Pour la représentation (c), l’objet et l’image sont tous les deux virtuels.</li>
            
                    <li><input type="checkbox" id="q3d" name="q3" value="D"> D- Pour la représentation (d), l’objet et l’image sont tous les deux virtuels.</li>
            
                    <li><input type="checkbox" id="q3e" name="q3" value="E"> E- À travers un dioptre plan l’objet et l’image sont toujours de nature différente.</li>
            
                </ul>
            </div>
            <div class="action-buttons">
                <button type="button" class="correct-button" onclick="correctQuestion('q3')">Corriger</button>
                <button type="button" class="reset-button" onclick="resetQuestion('q3')">Réessayer</button>
                <button class="favorite-button" data-question="3">&#10084;</button>
            </div>
        </div>
        
        <div id="question-4" class="question-container">
            <div class="question">
                <p>4.) Un objet réel AB de 5 cm de hauteur est placé à 25 cm d’une lentille mince divergente dont la distance focale est de 20 cm. L’image de l’objet est :</p>
                <ul>
        
                    <li><input type="checkbox" id="q4a" name="q4" value="A"> A- Droite et plus petite que l’objet.</li>
            
                    <li><input type="checkbox" id="q4b" name="q4" value="B"> B- Droite et plus grande que l’objet.</li>
            
                    <li><input type="checkbox" id="q4c" name="q4" value="C"> C- Renversée et plus petite que l’objet.</li>
            
                    <li><input type="checkbox" id="q4d" name="q4" value="D"> D- Renversée et plus grande que l’objet.</li>
            
                    <li><input type="checkbox" id="q4e" name="q4" value="E"> E- Toutes les propositions sont fausses.</li>
            
                </ul>
            </div>
            <div class="action-buttons">
                <button type="button" class="correct-button" onclick="correctQuestion('q4')">Corriger</button>
                <button type="button" class="reset-button" onclick="resetQuestion('q4')">Réessayer</button>
                <button class="favorite-button" data-question="4">&#10084;</button>
            </div>
        </div>
        
        <div id="question-5" class="question-container">
            <div class="question">
                <p>5.) Un fluide visqueux incompressible s’écoule à l’intérieur d’une conduite horizontale ne présentant aucune variation de section. La différence de pression Δp, entre la pression p1 au niveau de l’entrée et la pression p2 au niveau de la sortie de la conduite est :</p>
                <ul>
        
                    <li><input type="checkbox" id="q5a" name="q5" value="A"> A- Δp = p1 − p2 est nulle, car le tube ne présente aucune variation de section.</li>
            
                    <li><input type="checkbox" id="q5b" name="q5" value="B"> B- Δp = p1 − p2 est strictement positive, car le fluide est réel.</li>
            
                    <li><input type="checkbox" id="q5c" name="q5" value="C"> C- Δp = p1 − p2 augmente lorsque le débit volumique du fluide augmente.</li>
            
                    <li><input type="checkbox" id="q5d" name="q5" value="D"> D- Δp = p1 − p2 est proportionnelle au carré du débit volumique du fluide.</li>
            
                    <li><input type="checkbox" id="q5e" name="q5" value="E"> E- Toutes les propositions sont fausses.</li>
            
                </ul>
            </div>
            <div class="action-buttons">
                <button type="button" class="correct-button" onclick="correctQuestion('q5')">Corriger</button>
                <button type="button" class="reset-button" onclick="resetQuestion('q5')">Réessayer</button>
                <button class="favorite-button" data-question="5">&#10084;</button>
            </div>
        </div>
        
        <div id="question-6" class="question-container">
            <div class="question">
                <p>6.) Une artère coronaire supposée horizontale de rayon R et de longueur L est le siège d’une sténose de rayon R/2 et de longueur L/5. Concernant la perte de charge le long de cette artère coronaire :</p>
                <ul>
        
                    <li><input type="checkbox" id="q6a" name="q6" value="A"> A- La perte de charge est multipliée par 2 du fait de la sténose.</li>
            
                    <li><input type="checkbox" id="q6b" name="q6" value="B"> B- La perte de charge est multipliée par 4 du fait de la sténose.</li>
            
                    <li><input type="checkbox" id="q6c" name="q6" value="C"> C- La perte de charge est multipliée par 6 du fait de la sténose.</li>
            
                    <li><input type="checkbox" id="q6d" name="q6" value="D"> D- La perte de charge est divisée par 4 du fait de la sténose.</li>
            
                    <li><input type="checkbox" id="q6e" name="q6" value="E"> E- Toutes les propositions sont fausses.</li>
            
                </ul>
            </div>
            <div class="action-buttons">
                <button type="button" class="correct-button" onclick="correctQuestion('q6')">Corriger</button>
                <button type="button" class="reset-button" onclick="resetQuestion('q6')">Réessayer</button>
                <button class="favorite-button" data-question="6">&#10084;</button>
            </div>
        </div>
        
        <div id="question-7" class="question-container">
            <div class="question">
                <p>7.) Cochez la ou les proposition(s) exacte(s) :</p>
                <ul>
        
                    <li><input type="checkbox" id="q7a" name="q7" value="A"> A- La loi de Poiseuille ne s’applique pas aux liquides newtoniens.</li>
            
                    <li><input type="checkbox" id="q7b" name="q7" value="B"> B- Le théorème de Bernoulli est un cas particulier de la loi de Poiseuille.</li>
            
                    <li><input type="checkbox" id="q7c" name="q7" value="C"> C- Dans un fluide non newtonien, la viscosité varie avec le taux de cisaillement.</li>
            
                    <li><input type="checkbox" id="q7d" name="q7" value="D"> D- La viscosité est indépendante des conditions de température.</li>
            
                    <li><input type="checkbox" id="q7e" name="q7" value="E"> E- La viscosité varie dans le même sens que l’hématocrite.</li>
            
                </ul>
            </div>
            <div class="action-buttons">
                <button type="button" class="correct-button" onclick="correctQuestion('q7')">Corriger</button>
                <button type="button" class="reset-button" onclick="resetQuestion('q7')">Réessayer</button>
                <button class="favorite-button" data-question="7">&#10084;</button>
            </div>
        </div>
        
        <div id="question-8" class="question-container">
            <div class="question">
                <p>8.) Soient deux charges q et -q égales et opposées placées en deux points A et B séparées par une distance a. Le potentiel V(M) créé par ces deux charges en un point M situé à une distance r très grande devant a et faisant un angle θ avec l’axe des charges est :</p>
                <ul>
        
                    <li><input type="checkbox" id="q8a" name="q8" value="A"> A- V(M) = (1 / 4πε₀) * (d / r²).</li>
            
                    <li><input type="checkbox" id="q8b" name="q8" value="B"> B- V(M) = (1 / 4πε₀) * (d / r²) + cte.</li>
            
                    <li><input type="checkbox" id="q8c" name="q8" value="C"> C- V(M) = (1 / 4πε₀) * (d * cos(θ) / r²).</li>
            
                    <li><input type="checkbox" id="q8d" name="q8" value="D"> D- V(M) = (1 / 4πε₀) * (q * sin(θ) / r²).</li>
            
                    <li><input type="checkbox" id="q8e" name="q8" value="E"> E- V(M) = (1 / 4πε₀) * (a * cos(θ) / r²).</li>
            
                </ul>
            </div>
            <div class="action-buttons">
                <button type="button" class="correct-button" onclick="correctQuestion('q8')">Corriger</button>
                <button type="button" class="reset-button" onclick="resetQuestion('q8')">Réessayer</button>
                <button class="favorite-button" data-question="8">&#10084;</button>
            </div>
        </div>
        
        <div id="question-9" class="question-container">
            <div class="question">
                <p>9.) Les dérivations bipolaires de l’ECG :</p>
                <ul>
        
                    <li><input type="checkbox" id="q9a" name="q9" value="A"> A- Étudient l’activité électrique cardiaque dans le plan horizontal.</li>
            
                    <li><input type="checkbox" id="q9b" name="q9" value="B"> B- Sont représentées par les dérivations D1, D2, D3.</li>
            
                    <li><input type="checkbox" id="q9c" name="q9" value="C"> C- D1 enregistre la différence de potentiel électrique entre le bras droit et le bras gauche.</li>
            
                    <li><input type="checkbox" id="q9d" name="q9" value="D"> D- D2 enregistre la différence de potentiel électrique entre le bras gauche et la cheville gauche.</li>
            
                    <li><input type="checkbox" id="q9e" name="q9" value="E"> E- Toutes les propositions sont fausses.</li>
            
                </ul>
            </div>
            <div class="action-buttons">
                <button type="button" class="correct-button" onclick="correctQuestion('q9')">Corriger</button>
                <button type="button" class="reset-button" onclick="resetQuestion('q9')">Réessayer</button>
                <button class="favorite-button" data-question="9">&#10084;</button>
            </div>
        </div>
        
        <div id="question-10" class="question-container">
            <div class="question">
                <p>10.) Cochez la ou les propositions exactes :</p>
                <ul>
        
                    <li><input type="checkbox" id="q10a" name="q10" value="A"> A- La force électrostatique d’une charge q sur une autre charge q' est une grandeur vectorielle exprimée par la loi de Coulomb.</li>
            
                    <li><input type="checkbox" id="q10b" name="q10" value="B"> B- Selon la loi de Coulomb, si qq' > 0, alors elles s’attirent. Inversement, si qq' < 0, elles se repoussent.</li>
            
                    <li><input type="checkbox" id="q10c" name="q10" value="C"> C- Le champ électrostatique en un point M est inversement proportionnel au carré de la distance séparant la charge de ce point M.</li>
            
                    <li><input type="checkbox" id="q10d" name="q10" value="D"> D- Comme pour le champ, le potentiel électrostatique en un point M est aussi inversement proportionnel au carré de la distance séparant la charge de ce point M.</li>
            
                    <li><input type="checkbox" id="q10e" name="q10" value="E"> E- Toutes les propositions sont fausses.</li>
            
                </ul>
            </div>
            <div class="action-buttons">
                <button type="button" class="correct-button" onclick="correctQuestion('q10')">Corriger</button>
                <button type="button" class="reset-button" onclick="resetQuestion('q10')">Réessayer</button>
                <button class="favorite-button" data-question="10">&#10084;</button>
            </div>
        </div>
         <div class="button-container">
    <!-- Bouton pour soumettre tout le quiz -->
    <button type="button" class="submit-quiz-button" onclick="submitQuiz()">Soumettre tout le Quiz</button>
    <button id="voir-favoris-btn" class="favorite-button" onclick="voirFavoris2016R()">Voir Favoris</button> <!-- Nouveau bouton -->
</div>

        <!-- Fond flouté pour l'effet d'arrière-plan -->
        <div class="blur-background" id="blur-background"></div>

       <!-- Popup de résultat -->
<div class="result-popup" id="result-popup">
    <h3>Résultat du Quiz</h3>
    <div id="result"></div>
    <button id="close-result" class="close-button" onclick="closeResult(event)">Fermer</button>
    <button id="voir-detail-btn" class="detail-button" style="display: none;" onclick="afficherDetails(event)">Voir Détail</button>
    <button type="button" class="reset-quiz-button" onclick="resetAll()">Réessayer tout le Quiz</button>
</div>
</div>

<div id="details-section" class="details-section" style="display: none;">
    <h3>Tableau des questions</h3>
    <div class="question-links" id="question-links"></div>
</div>


<!-- Conteneur du timer -->
<div id="timer-container">
    <span id="timer">60:00</span>
</div>

<!-- Section pour afficher le tableau avec les numéros encerclés -->
<div id="details-section" style="display:none;">
    <h2>Questions :</h2>
    <div id="question-links" class="question-links">
        <!-- Le tableau de numéros va être généré ici -->
    </div>
</div>

<script>

// Fonction pour corriger une question 
function correctQuestion(questionName) {
    const form = document.getElementById('quiz-form');
    const questionDiv = document.querySelector(`input[name="${questionName}"]`).closest('.question-container');
    const selected = Array.from(form.elements[questionName]).filter(input => input.checked).map(input => input.value);

    // Calculer si la réponse est correcte
    const isCorrect = JSON.stringify(correctAnswers[questionName].sort()) === JSON.stringify(selected.sort());

    // Enregistre si la réponse est correcte ou incorrecte
    userAnswers[questionName] = {
        selected: selected,
        isCorrect: isCorrect
    };

    // Supprimer les styles précédents
    questionDiv.classList.remove('correct', 'incorrect');
    questionDiv.querySelectorAll('li').forEach(li => li.style.color = '');

    // Applique les couleurs selon la validité des réponses
    questionDiv.querySelectorAll('li').forEach(li => {
        const isChoiceCorrect = correctAnswers[questionName].includes(li.querySelector('input').value);
        const isSelected = selected.includes(li.querySelector('input').value);

        if (isChoiceCorrect) {
            // Appliquer le style vert aux bonnes réponses
            li.style.color = 'green';
            li.style.fontWeight = 'bold';
            li.style.textShadow = '1px 1px 2px rgba(0, 128, 0, 0.7)';
            li.style.backgroundColor = 'transparent'; // Remettre le fond transparent
            li.style.border = 'none'; // Supprimer la bordure
        }

        if (isSelected && !isChoiceCorrect) {
            // Appliquer le style rouge pour les mauvaises réponses sélectionnées
            li.style.color = 'red';
        }
    });

    console.log(`Début de la correction pour la question ${questionName}`);
    console.log(`Réponses sélectionnées pour ${questionName}: ${selected.join(', ')}`);
    console.log(`Résultat pour ${questionName}: ${isCorrect ? 'Correct' : 'Incorrect'}`);

    // Déterminer le nom de l'examen et l'ID complet de la question
    const examNameElement = document.getElementById('exam_name');

    // Construire les IDs complets des choix
    const examName = examNameElement.value; // Nom de l'examen (par exemple, Anatomie2023)
    const fullChoiceIds = selected.map(choice => `${examName}_${questionName.substring(1)}_${choice.toLowerCase()}`);
    console.log(`IDs complets générés pour les choix : ${fullChoiceIds.join(', ')}`);

   // Envoyer les données au serveur
    fetch('/track_attempts/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
        },
        body: JSON.stringify({
            question_name: questionName, // Nom unique de la question (q22, etc.)
            full_choice_ids: fullChoiceIds // IDs complets générés (par exemple : Anatomie2023_22_c)
        })
    })
        .then(response => response.json())
        .then(data => {
            console.log(`Données reçues du serveur : ${JSON.stringify(data)}`);

            // Mettre à jour l'état visuel des réponses correctes ou incorrectes
            if (data.is_correct) {
                console.log(`La réponse pour ${questionName} est correcte.`);
            } else {
                console.log(`La réponse pour ${questionName} est incorrecte.`);
            }

            // Supprimer les anciennes alertes et gérer les nouvelles si nécessaire
            handleAlert(data.alert, questionDiv);

            // Mettre à jour les statistiques comme les taux d'échec
            updateStatisticalAlerts(data, questionDiv);
        })
        .catch(error => {
            console.error('Erreur lors de l'envoi des résultats au serveur :', error);
        });
}


<script>
// Fonction pour corriger une question
function correctQuestion(questionName) {
    const form = document.getElementById('quiz-form');
    const questionDiv = document.querySelector(`input[name="${questionName}"]`).closest('.question-container');
    const selected = Array.from(form.elements[questionName]).filter(input => input.checked).map(input => input.value);

    // Calculer si la réponse est correcte
    const isCorrect = JSON.stringify(correctAnswers[questionName].sort()) === JSON.stringify(selected.sort());

    // Enregistre si la réponse est correcte ou incorrecte
    userAnswers[questionName] = {
        selected: selected,
        isCorrect: isCorrect
    };

    // Supprimer les styles précédents
    questionDiv.classList.remove('correct', 'incorrect');
    questionDiv.querySelectorAll('li').forEach(li => li.style.color = '');

    // Applique les couleurs selon la validité des réponses
    questionDiv.querySelectorAll('li').forEach(li => {
        const isChoiceCorrect = correctAnswers[questionName].includes(li.querySelector('input').value);
        const isSelected = selected.includes(li.querySelector('input').value);

        if (isChoiceCorrect) {
            // Appliquer le style vert aux bonnes réponses
            li.style.color = 'green';
            li.style.fontWeight = 'bold';
            li.style.textShadow = '1px 1px 2px rgba(0, 128, 0, 0.7)';
        }

        if (isSelected && !isChoiceCorrect) {
            // Appliquer le style rouge pour les mauvaises réponses sélectionnées
            li.style.color = 'red';
        }
    });

    console.log(`Début de la correction pour la question ${questionName}`);
    console.log(`Réponses sélectionnées pour ${questionName}: ${selected.join(', ')}`);
    console.log(`Résultat pour ${questionName}: ${isCorrect ? 'Correct' : 'Incorrect'}`);

    // Déterminer le nom de l'examen et l'ID complet de la question
    const examNameElement = document.getElementById('exam_name');
    const examName = examNameElement.value; // Nom de l'examen (par exemple, Anatomie2023)
    const fullChoiceIds = selected.map(choice => `${examName}_${questionName.substring(1)}_${choice.toLowerCase()}`);
    console.log(`IDs complets générés pour les choix : ${fullChoiceIds.join(', ')}`);

    // Envoyer les données au serveur
    fetch('/track_attempts/', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
        },
        body: JSON.stringify({
            question_name: questionName,
            full_choice_ids: fullChoiceIds
        })
    })
        .then(response => response.json())
        .then(data => {
            console.log(`Données reçues du serveur : ${JSON.stringify(data)}`);
            handleAlert(data.alert, questionDiv);
            updateStatisticalAlerts(data, questionDiv);
        })
        .catch(error => console.error('Erreur lors de l’envoi des données:', error));
}

// Fonction pour gérer les alertes
function handleAlert(alertData, questionDiv) {
    const existingAlert = questionDiv.querySelector('.alert-indicator');
    if (existingAlert) {
        existingAlert.remove();
    }

    if (alertData) {
        const alertIndicator = document.createElement('div');
        alertIndicator.className = 'alert-indicator';
        alertIndicator.style.backgroundColor = alertData.color || '#f8d7da';
        alertIndicator.style.padding = '10px';
        alertIndicator.style.marginTop = '10px';
        alertIndicator.style.borderRadius = '5px';
        alertIndicator.style.fontWeight = 'bold';
        alertIndicator.style.color = '#721c24';
        alertIndicator.style.boxShadow = '0 2px 5px rgba(0, 0, 0, 0.1)';
        alertIndicator.textContent = alertData.message;

        questionDiv.appendChild(alertIndicator);
        saveAlertToLocalStorage(questionDiv.getAttribute('data-question-id'), alertData);
    } else {
        removeAlertFromLocalStorage(questionDiv.getAttribute('data-question-id'));
    }
}

// Charger les alertes persistantes
function loadAlertsFromLocalStorage() {
    const storedAlerts = JSON.parse(localStorage.getItem('alerts')) || {};
    Object.keys(storedAlerts).forEach(questionId => {
        const questionDiv = document.querySelector(`.question-container[data-question-id="${questionId}"]`);
        if (questionDiv) {
            handleAlert(storedAlerts[questionId], questionDiv);
        }
    });
}

// Sauvegarder les alertes dans localStorage
function saveAlertToLocalStorage(questionId, alertData) {
    const storedAlerts = JSON.parse(localStorage.getItem('alerts')) || {};
    storedAlerts[questionId] = alertData;
    localStorage.setItem('alerts', JSON.stringify(storedAlerts));
}

// Supprimer une alerte de localStorage
function removeAlertFromLocalStorage(questionId) {
    const storedAlerts = JSON.parse(localStorage.getItem('alerts')) || {};
    delete storedAlerts[questionId];
    localStorage.setItem('alerts', JSON.stringify(storedAlerts));
}

// Mise à jour des alertes statistiques
function updateStatisticalAlerts(data, questionDiv) {
    const existingStatisticalAlerts = questionDiv.querySelectorAll('.statistical-alert');
    existingStatisticalAlerts.forEach(alert => alert.remove());

    if (data.failure_rate > 0.6) {
        const failureRateAlert = document.createElement('div');
        failureRateAlert.className = 'statistical-alert';
        failureRateAlert.style.backgroundColor = '#add8e6';
        failureRateAlert.style.padding = '10px';
        failureRateAlert.style.marginTop = '10px';
        failureRateAlert.style.borderRadius = '5px';
        failureRateAlert.style.fontWeight = 'bold';
        failureRateAlert.style.color = '#004085';
        failureRateAlert.style.boxShadow = '0 2px 5px rgba(0, 0, 0, 0.1)';
        failureRateAlert.textContent = `🔵 Votre taux d'échec est de ${(data.failure_rate * 100).toFixed(0)}%. Revoir cette question est conseillé.`;

        questionDiv.appendChild(failureRateAlert);
    }
}

// Charger les alertes au démarrage
document.addEventListener('DOMContentLoaded', () => {
    loadAlertsFromLocalStorage();
});

</script>
